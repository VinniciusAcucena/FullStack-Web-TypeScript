//Introdução

show databases // mostrar bancos

use loja // Criar/Usar banco

db.dropDatabase() //Excluir um banco

db.createCollection("usuarios") // Criar uma collection em um banco

show collections // Mostrar as collections

db.createCollection("produtos")

show collections

db.produtos.drop() // Excluir uma collection

//Inserção de dados

db.usuarios.insertOne({
    nome: 'Vinnicius',
    idade: 25
}) // inserir um dado

db.usuarios.insertMany([
    {
        nome: 'João',
        idade: 40
    },
    {
        nome: 'Maria',
        idade: 30
    }
]) // inserir varios dados

//Busca de dados

db.usuarios.find() // buscar todos os dados

db.usuarios.find({nome: 'Vinnicius'}) // buscar dado especifico

db.usuarios.find({nome: 'Vinnicius'}, {nome: true}) // buscar dado e mostrar apenas o campo escolhido

db.usuarios.find({}, {idade: true, _id: false}) // buscar dados não mostrando um campo especifico

db.usuarios.findOne() // busca o primeiro dado da collection

db.usuarios.countDocuments() // conta a quantidade de dados

 db.usuarios.countDocuments({nome: 'Maria'}) // conta a quantidade de uma valor especifico

// Busca de dados - Operadores de comparação

 db.produtos.find({preco: {$gt: 100}}) // retorna dados com preços maiores que 100

 db.produtos.find({preco: {$lt: 100}}) // retorna dados com preços menores que 100

 db.produtos.find({categoria: {$eq: 'eletronicos'}}) // retorna dados com categoria igual a eletronicos

 // Busca de dados - Operadores lógicos

 db.produtos.find({$and: [{categoria:'eletronicos'},{preco: {$gte: 100}}]}) // retorna campos em que a duas condições são verdadeiras

 db.produtos.find({$or: [{categoria:'eletronicos'},{preco: {$lte: 100}}] }) // retorna campos em que pelo menos uma das condições seja verdadeiras

// Edição de dados

db.produtos.updateOne({_id:ObjectId('696150a9d953e0007d1e262a')}, {$set:{nome: 'nome editado'}}) // Altera apenas um campo

db.produtos.updateMany({categoria: 'eletronicos'}, {$set:{preco: 2000}}) // Altera vários campos

db.produtos.updateOne({nome: 'quadro'}, {$unset:{preco: ''}}) // altera o dado removendo um de seus campos

db.produtos.updateOne( {nome: 'notebook'}, {$set:{data: new Date()}}) // altera o dado adicionando um novo campo

db.produtos.updateOne( {nome: 'notebook'}, {$inc:{preco: 1}}) // incrementa ou diminui o valor de um campo

db.produtos.updateOne( {nome: 'quadro'}, {$rename:{nome: 'descricao'}}) // renomeia um campo

// Manipulação de Array

db.produtos.update({nome: 'camiseta'}, {$push:{tamanho:'M'}}) // Adiciona um valor dentro do Array do campo

db.produtos.update({nome: 'camiseta'}, {$push:{tamanho:{$each:['P', 'G', 'GG', 'PP']}}}) // Adiciona vários valores ao mesmo tempo no Array

db.produtos.update({nome: 'televisao'}, {$push:{poleadas:{$each:['14', '55', '36'], $sort:1}}}) // Ordena os valores

db.produtos.update({nome: 'televisao'}, {$push:{poleadas:{$each:['70'], $position:1}}}) // Adiciona um valor em uma posição especifica no Array

// Manipulação de documentos

 db.produtos.find().limit(3) // limitar quantos itens irão ser mostrados

 db.produtos.find().skip(2) // Pula a quantidade de item e retorna o resto

 db.produtos.find().skip(2).limit(2) // Junção dos dois comandos a cima

 db.produtos.find().sort({preco: -1}) // Retorna os itens de forma ordenada

 // Remoção de dados

 db.produtos.deleteOne({_id: ObjectId('696150a9d953e0007d1e2629')}) // Deleta um item 

 db.produtos.deleteMany({categoria: 'eletronicos'}) // Deleta vários itens